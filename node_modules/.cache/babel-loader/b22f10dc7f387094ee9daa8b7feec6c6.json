{"ast":null,"code":"// @ is an alias to /src\nimport DetailModale from \"@/components/DetailModale.vue\";\nexport default {\n  name: \"PostView\",\n  components: {\n    DetailModale\n  },\n\n  data() {\n    return {\n      showDetailModale: false\n    };\n  },\n\n  props: {\n    post_id: Number,\n    title: String,\n    content: String,\n    card_name: String\n  },\n  methods: {\n    toggleDetailModale() {\n      this.showDetailModale = !this.showDetailModale;\n\n      if (!this.showDetailModale) {\n        window.location.reload();\n      }\n    },\n\n    deletePost() {\n      const WPAPI = require(\"wpapi\");\n\n      const wp = new WPAPI({\n        endpoint: \"http://localhost/wordpress/index.php/wp-json/\",\n        username: \"fdizes\",\n        password: \"azerty\"\n      });\n      wp.posts().id(this.post_id).param(\"force\", true).delete().then(data => {\n        console.log(data);\n        window.location.reload();\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA0BA;AACA,OAAOA,YAAP,MAAyB,+BAAzB;AAEA,eAAe;AACbC,MAAI,EAAE,UADO;AAEbC,YAAU,EAAE;AACVF;AADU,GAFC;;AAKbG,MAAI,GAAG;AACL,WAAO;AACLC,sBAAgB,EAAE;AADb,KAAP;AAGD,GATY;;AAUbC,OAAK,EAAE;AACLC,WAAO,EAAEC,MADJ;AAELC,SAAK,EAAEC,MAFF;AAGLC,WAAO,EAAED,MAHJ;AAILE,aAAS,EAAEF;AAJN,GAVM;AAgBbG,SAAO,EAAE;AACPC,sBAAkB,GAAG;AACnB,WAAKT,gBAAL,GAAwB,CAAC,KAAKA,gBAA9B;;AACA,UAAI,CAAC,KAAKA,gBAAV,EAA4B;AAC1BU,cAAM,CAACC,QAAP,CAAgBC,MAAhB;AACF;AACD,KANM;;AAOPC,cAAU,GAAG;AACX,YAAMC,KAAI,GAAIC,OAAO,CAAC,OAAD,CAArB;;AAEA,YAAMC,EAAC,GAAI,IAAIF,KAAJ,CAAU;AACnBG,gBAAQ,EAAE,+CADS;AAEnBC,gBAAQ,EAAE,QAFS;AAGnBC,gBAAQ,EAAE;AAHS,OAAV,CAAX;AAMAH,QAAE,CAACI,KAAH,GACGC,EADH,CACM,KAAKnB,OADX,EAEGoB,KAFH,CAES,OAFT,EAEkB,IAFlB,EAGGC,MAHH,GAIGC,IAJH,CAISzB,IAAD,IAAU;AACd0B,eAAO,CAACC,GAAR,CAAY3B,IAAZ;AACAW,cAAM,CAACC,QAAP,CAAgBC,MAAhB;AACD,OAPH;AAQD;;AAxBM;AAhBI,CAAf","names":["DetailModale","name","components","data","showDetailModale","props","post_id","Number","title","String","content","card_name","methods","toggleDetailModale","window","location","reload","deletePost","WPAPI","require","wp","endpoint","username","password","posts","id","param","delete","then","console","log"],"sourceRoot":"","sources":["/home/fdizes/Rendu/C-DEV-121-PAR-1-2-twp-florent.dizes/mvvm_twp/src/components/PostView.vue"],"sourcesContent":["<template>\r\n  <div class=\"post\">\r\n    <p @click=\"toggleDetailModale\">{{ title }}</p>\r\n    <svg\r\n      class=\"delbtn\"\r\n      @click=\"deletePost\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      viewBox=\"0 0 512 512\"\r\n    >\r\n      <!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. -->\r\n      <path\r\n        d=\"M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM175 208.1L222.1 255.1L175 303C165.7 312.4 165.7 327.6 175 336.1C184.4 346.3 199.6 346.3 208.1 336.1L255.1 289.9L303 336.1C312.4 346.3 327.6 346.3 336.1 336.1C346.3 327.6 346.3 312.4 336.1 303L289.9 255.1L336.1 208.1C346.3 199.6 346.3 184.4 336.1 175C327.6 165.7 312.4 165.7 303 175L255.1 222.1L208.1 175C199.6 165.7 184.4 165.7 175 175C165.7 184.4 165.7 199.6 175 208.1V208.1z\"\r\n      />\r\n    </svg>\r\n  </div>\r\n  <DetailModale\r\n    :showDetailModale=\"showDetailModale\"\r\n    :toggleDetailModale=\"toggleDetailModale\"\r\n    :post_id=\"post_id\"\r\n    :title=\"title\"\r\n    :content=\"content\"\r\n    :card_name=\"card_name\"\r\n  />\r\n</template>\r\n\r\n<script>\r\n// @ is an alias to /src\r\nimport DetailModale from \"@/components/DetailModale.vue\";\r\n\r\nexport default {\r\n  name: \"PostView\",\r\n  components: {\r\n    DetailModale,\r\n  },\r\n  data() {\r\n    return {\r\n      showDetailModale: false,\r\n    };\r\n  },\r\n  props: {\r\n    post_id: Number,\r\n    title: String,\r\n    content: String,\r\n    card_name: String,\r\n  },\r\n  methods: {\r\n    toggleDetailModale() {\r\n      this.showDetailModale = !this.showDetailModale;\r\n      if (!this.showDetailModale) {\r\n        window.location.reload();\r\n      }\r\n    },\r\n    deletePost() {\r\n      const WPAPI = require(\"wpapi\");\r\n\r\n      const wp = new WPAPI({\r\n        endpoint: \"http://localhost/wordpress/index.php/wp-json/\",\r\n        username: \"fdizes\",\r\n        password: \"azerty\",\r\n      });\r\n\r\n      wp.posts()\r\n        .id(this.post_id)\r\n        .param(\"force\", true)\r\n        .delete()\r\n        .then((data) => {\r\n          console.log(data);\r\n          window.location.reload();\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.post {\r\n  background-color: rgb(223, 223, 223);\r\n  padding: 5px;\r\n  margin: 5px 0;\r\n  border-radius: 2px;\r\n  cursor: pointer;\r\n  position: relative;\r\n}\r\n\r\n.post:hover .delbtn {\r\n  visibility: visible;\r\n}\r\n\r\n.post p {\r\n  margin: 5px auto;\r\n}\r\n\r\n.delbtn {\r\n  position: absolute;\r\n  top: 15px;\r\n  right: 15px;\r\n  width: 20px;\r\n  cursor: pointer;\r\n  border-radius: 100%;\r\n  visibility: hidden;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}