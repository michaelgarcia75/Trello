{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, vModelText as _vModelText, withKeys as _withKeys, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-ea8760f6\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"card\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_PostView = _resolveComponent(\"PostView\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"p\", null, _toDisplayString($props.name), 1\n  /* TEXT */\n  ), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.postList, post => {\n    return _openBlock(), _createBlock(_component_PostView, {\n      key: post.id,\n      post_id: post.id,\n      title: post.title,\n      content: post.content,\n      card_name: $props.name\n    }, null, 8\n    /* PROPS */\n    , [\"post_id\", \"title\", \"content\", \"card_name\"]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  )), _withDirectives(_createElementVNode(\"input\", {\n    class: \"input-post\",\n    type: \"text\",\n    placeholder: \"Create a Post\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.postName = $event),\n    onKeyup: _cache[1] || (_cache[1] = _withKeys((...args) => $options.createPost && $options.createPost(...args), [\"enter\"]))\n  }, null, 544\n  /* HYDRATE_EVENTS, NEED_PATCH */\n  ), [[_vModelText, $data.postName]])]);\n}","map":{"version":3,"mappings":";;;;;AACOA,OAAK,EAAC;;;;;uBAAXC,oBAiBM,KAjBN,cAiBM,CAhBJC,oBAAiB,GAAjB,EAAiB,IAAjB,EAAiBC,iBAAXC,WAAW,CAAjB,EAAU;AAAA;AAAV,GAgBI,qBAfJH,oBAOEI,SAPF,EAOE,IAPF,EAOEC,YANeC,iBAMf,EANOC,IAAgB,IAAZ;yBADbC,aAOEC,mBAPF,EAOE;AALCC,SAAG,EAAEH,IAAI,CAACI,EAKX;AAJCC,aAAO,EAAEL,IAAI,CAACI,EAIf;AAHCE,WAAK,EAAEN,IAAI,CAACM,KAGb;AAFCC,aAAO,EAAEP,IAAI,CAACO,OAEf;AADCC,eAAS,EAAEZ;AACZ,KAPF;;AAAA;GAOE,CAPF;;AAAA,GAeI,mBAPJF,oBAME,OANF,EAME;AALAF,SAAK,EAAC,YAKN;AAJAiB,QAAI,EAAC,MAIL;AAHAC,eAAW,EAAC,eAGZ;+DAFSC,iBAAQC,OAEjB;AADCC,WAAK,mDAAQd,mDAAR,EAAkB,SAAlB;AACN,GANF;;AAAA,oBAIWY,iBAGP,CAjBN","names":["class","_createElementBlock","_createElementVNode","_toDisplayString","$props","_Fragment","_renderList","$options","post","_createBlock","_component_PostView","key","id","post_id","title","content","card_name","type","placeholder","$data","$event","onKeyup"],"sourceRoot":"","sources":["/home/fdizes/Rendu/C-DEV-121-PAR-1-2-twp-florent.dizes/mvvm_twp/src/components/CardView.vue"],"sourcesContent":["<template>\r\n  <div class=\"card\">\r\n    <p>{{ name }}</p>\r\n    <PostView\r\n      v-for=\"post in postList\"\r\n      :key=\"post.id\"\r\n      :post_id=\"post.id\"\r\n      :title=\"post.title\"\r\n      :content=\"post.content\"\r\n      :card_name=\"name\"\r\n    />\r\n    <input\r\n      class=\"input-post\"\r\n      type=\"text\"\r\n      placeholder=\"Create a Post\"\r\n      v-model=\"postName\"\r\n      @keyup.enter=\"createPost\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// @ is an alias to /src\r\nimport PostView from \"@/components/PostView.vue\";\r\n\r\nexport default {\r\n  name: \"CardView\",\r\n  data() {\r\n    return {\r\n      postName: \"\",\r\n    };\r\n  },\r\n  components: {\r\n    PostView,\r\n  },\r\n  props: {\r\n    card_id: Number,\r\n    name: String,\r\n  },\r\n  computed: {\r\n    postList() {\r\n      return this.$store.getters.getPostsByCardId(this.card_id);\r\n    },\r\n  },\r\n  methods: {\r\n    createPost() {\r\n      if (this.postName !== \"\") {\r\n        const WPAPI = require(\"wpapi\");\r\n\r\n        const wp = new WPAPI({\r\n          endpoint: \"http://localhost/wordpress/index.php/wp-json/\",\r\n          username: \"fdizes\",\r\n          password: \"azerty\",\r\n        });\r\n        wp.posts()\r\n          .create({\r\n            title: this.postName,\r\n            content: \"\",\r\n            categories: this.card_id,\r\n            status: \"publish\",\r\n          })\r\n          .then((response) => {\r\n            console.log(response);\r\n            window.location.reload();\r\n          });\r\n        this.postName = \"\";\r\n      }\r\n    },\r\n    deleteCategory() {\r\n      const WPAPI = require(\"wpapi\");\r\n\r\n        const wp = new WPAPI({\r\n          endpoint: \"http://localhost/wordpress/index.php/wp-json/\",\r\n          username: \"fdizes\",\r\n          password: \"azerty\",\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.card {\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-width: 300px;\r\n  width: 300px;\r\n  min-height: 100px;\r\n  height: fit-content;\r\n  background-color: rgb(175, 175, 175);\r\n  margin: 10px 10px;\r\n  text-align: left;\r\n  padding: 10px;\r\n  border-radius: 5px;\r\n}\r\n.card p {\r\n  font-weight: 750;\r\n  padding: 5px;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}